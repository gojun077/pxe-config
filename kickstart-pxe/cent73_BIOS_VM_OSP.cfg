#version=RHEL7
# 2017.02.16
# Kickstart file for CentOS 7.3 VM to be used as a
# node in a multinode RDO Triple-O installation

# System authorization information
auth --enableshadow --passalgo=sha512
#ignoredisk --only-use=sda
# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'
# System language
lang en_US.UTF-8
# Use graphical install
graphical
# Firewall configuration
firewall --enabled
# reboot when install is complete
reboot

# CHANGEME
network  --hostname=ospctrl1

# System services
services --enabled="chronyd"
services --disabled="NetworkManager"
# System timezone
timezone Asia/Seoul --isUtc
# Delete all partitions
clearpart --all --initlabel
# Delete MBR / GPT
zerombr
# System bootloader configuration
bootloader --location=mbr --boot-drive=sda

# Disk partitioning information
part /boot --fstype=ext4    --ondisk=sda --size=512
part /     --fstype=ext4    --ondisk=sda --size=1 --grow

# Password Hash (can be generated by the following:)
# python3 -c 'import crypt; print(crypt.crypt("yourpw", crypt.mksalt(crypt.METHOD_SHA512)))'
rootpw --iscrypted $6$Fofz1QoF7/VeP0xJ$YLr0vE7jn2Y3urkf6Sv9cLlNVaUCcC1IO9WqYDq4UBAAebitJSQJOxlxLkK3baMeaG0.IDEc2athuDv8Zyxcg1

%packages --ignoremissing
@base
@core
chrony
parted
sed
vsftpd
xinetd
%end

